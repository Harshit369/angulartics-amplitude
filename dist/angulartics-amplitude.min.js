!function(angular){"use strict";angular.module("angulartics.amplitude",["angulartics"]).provider("$analytics_amplitude",["$analyticsProvider",function($analyticsProvider){return $analyticsProvider.settings.amplitude={project:null},function(e,t){function s(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}function v(e){for(var n=0;n<d.length;n++)!function(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(d[n])}var n=e.amplitude||{_q:[],_iq:{}},r=t.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-3.7.0-min.gz.js",r.onload=function(){e.amplitude.runQueuedFunctions?e.amplitude.runQueuedFunctions():console.log("[Amplitude] Error: could not load SDK")};var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i);for(var o=function(){return this._q=[],this},a=["add","append","clearAll","prepend","set","setOnce","unset"],u=0;u<a.length;u++)s(o,a[u]);n.Identify=o;for(var c=function(){return this._q=[],this},l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],p=0;p<l.length;p++)s(c,l[p]);n.Revenue=c;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","logEventWithTimestamp","logEventWithGroups","setSessionId"];v(n),n.getInstance=function(e){return e=(e&&0!==e.length?e:"$default_instance").toLowerCase(),n._iq.hasOwnProperty(e)||(n._iq[e]={_q:[]},v(n._iq[e])),n._iq[e]},e.amplitude=n}(window,document),{$get:["$window",function($window){return $window.amplitude}],init:function(apiKey,userId,options,callbackFn){window.amplitude.getInstance().init(apiKey,userId,options,callbackFn)},initWithProject:function(projectName,apiKey,userId,options,callbackFn){$analyticsProvider.settings.amplitude.project=projectName,window.amplitude.getInstance(projectName).init(apiKey,userId,options,callbackFn(projectInstance))},initWithProjectAndFixedDeviceId:function(constantDeviceId,projectName,apiKey,userId,options,callbackFn){$analyticsProvider.settings.amplitude.project=projectName,window.amplitude.getInstance().init(apiKey,userId,options,function(defaultInstance){var deviceId=defaultInstance.options.deviceId;window.amplitude.getInstance(projectName).init(apiKey,userId,options,function(projectInstance){projectInstance.setDeviceId(deviceId),null!=callbackFn&&callbackFn(projectInstance)})})}}}]).config(["$analyticsProvider",function($analyticsProvider){var superProperties={};$analyticsProvider.registerPageTrack(function(path,$location){var properties={url:path,host:$location.host()};properties=angular.extend({},superProperties,properties),window.amplitude.getInstance($analyticsProvider.settings.amplitude.project).logEvent("PageView",properties)}),$analyticsProvider.registerEventTrack(function(eventName,properties){properties=properties||{},properties=angular.extend({},superProperties,properties),window.amplitude.getInstance($analyticsProvider.settings.amplitude.project).logEvent(eventName,properties)}),$analyticsProvider.registerSetUsername(function(username){window.amplitude.getInstance($analyticsProvider.settings.amplitude.project).setUserId(username)}),$analyticsProvider.registerSetUserProperties(function(properties){properties=properties||{},window.amplitude.getInstance($analyticsProvider.settings.amplitude.project).setUserProperties(properties)}),$analyticsProvider.registerSetUserPropertiesOnce(function(properties){properties=properties||{};var identify=new window.amplitude.Identify;for(var property in properties)identify.setOnce(property,properties[property]);window.amplitude.getInstance($analyticsProvider.settings.amplitude.project).identify(identify)}),$analyticsProvider.registerSetSuperProperties(function(properties){for(var property in properties)properties.hasOwnProperty(property)&&(null==properties[property]?superProperties.hasOwnProperty(property)&&delete superProperties[property]:superProperties[property]=properties[property])})}])}(angular);